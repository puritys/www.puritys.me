<!DOCTYPE html>
<html>
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M3BFP5');</script>
    <!-- End Google Tag Manager -->

    <link href="../templates/static/css/files%3Fdefault.less&amp;other.less&amp;ezHTML.less&amp;%3Fv=20180416-2.css" rel="stylesheet" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.3.1/jquery.min.js?v=20180416-2"></script>
    <script src="../templates/static/js/files%3FlightHttp-simple-min.js&amp;default.js&amp;facebookAPI.js&amp;form_check.js&amp;util.js&amp;listAutoLoadMore.js&amp;%3Fv=20180416-2"></script>


    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="content-language" content="zh-TW" />
    <meta name="author" content="Puritys" />
    <title>Javascript Regular Expressions , 表示法</title>
    <meta name="keywords" content="javascript,regular expression" />
    <meta name="description" content="何謂 Regular expression : RegExpRegular Expressions 中文又叫做表示法，英文簡寫為 RegExp，主要功能是用來搜尋字串，分析字串，取代字串，比對字串，透過 Regular Expression，你可以用很簡單的 Pattern，來分析一篇文章。在大部分的程式語言中，如 perl , php, shell script，都有相關 R" />
    <meta property="fb:app_id" content="160015347378316" />
    <meta property="fb:admins" content="1140660203"/>
    

    <link rel="shortcut icon" href="https://www.puritys.me/templates/static/images/favicon_puritys.ico" /> 
    

    <link rel="canonical" href="article-30.html"/>
    

    <link rel="alternate" hreflang="zh-CN" href="../zh_cn/docs-blog/article-30-Javascript-Regular-Expressions-,-表示法.html">
        <link rel="alternate" hreflang="zh-TW" href="article-30.html">
        


    <link rel="amphtml" href="../docs-blog-amp/article-30-Javascript-Regular-Expressions-,-表示法.html"/>
    

    <link rel="dns-prefetch" href="https://www.puritys.me/docs-blog/apis.google.com">
        <link rel="dns-prefetch" href="https://www.puritys.me/docs-blog/ajax.googleapis.com">
        <link rel="dns-prefetch" href="https://www.puritys.me/docs-blog/connect.facebook.net">
        <link rel="dns-prefetch" href="https://www.puritys.me/docs-blog/www.google-analytics.com">
        <link rel="dns-prefetch" href="https://www.puritys.me/docs-blog/www.puritys.me">
        

<!--[if lt IE 9]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    
<script type="application/ld+json">
{
   "@context": "http://schema.org",
   "@type": "WebSite",
   "url": "//www.puritys.me",
   "potentialAction": {
     "@type": "SearchAction",
     "target": "https://www.puritys.me/search?searchText={search_term_string}",
     "query-input": "required name=search_term_string"
   }
}
    </script>
    


<script type="application/ld+json">
{ "@context" : "http://schema.org",
  "@type" : "Organization",
  "name" : "",
  "url" : "//www.puritys.me",
  "sameAs" : [ 
    
    "https://github.com/puritys",
    
    "https://www.facebook.com/Puritys.Chen.5815"
    
  ] 
}
    </script>







</head>
<body>

            
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M3BFP5"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


            
<div class="settings">
    
        <script>var WRT="https://www.puritys.me/";</script>
    
</div>


            
<div class="header">
    <div class="top-header">
        <div class="main">
        <a class="logo" href="https://www.puritys.me/"><img src="https://www.puritys.me/templates/static/images/logo_puritys.png" alt="Puritys Blog" title="Puritys Blog"></a>
        <a class="navbar-btn" href="article-30.html#"><span class="icon"></span></a>
        </div>
        <ul class="navbar">
             
            <li >
                <a href="https://www.puritys.me/news" data-ga='{"action":"menu_click","label":"\u7db2\u8def\u65b0\u805e"}'>網路新聞</a>
            </li>
             
            <li >
                <a href="https://www.puritys.me/life" data-ga='{"action":"menu_click","label":"\u751f\u6d3b\u65c5\u904a"}'>生活旅遊</a>
            </li>
             
            <li >
                <a href="https://www.puritys.me/WEB_SECURITY" data-ga='{"action":"menu_click","label":"\u7db2\u8def\u5b89\u5168"}'>網路安全</a>
            </li>
             
            <li class="active">
                <a href="https://www.puritys.me/docs-cate" data-ga='{"action":"menu_click","label":"\u7a0b\u5f0f\u96dc\u8a18"}'>程式雜記</a>
            </li>
            
        </ul>
        <form action="https://www.puritys.me/search" class="navbar-form">
            <input type="text" name="searchText" placeholder="Input your keyword" value="">
            <i class="glyphicon glyphicon-search"></i>
        </form>
    </div>
</div>


        

        
<div class="body-content">
    
            
    <div class="main">
        
                
<ul class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList"> 
    <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
        <a href="https://www.puritys.me/" itemscope itemtype="http://schema.org/Thing" itemprop="item">
            <em><span itemprop="name">Home</span></em>
        </a>
        <meta itemprop="position" content="1" />
    </li>
    
        
            <li  itemprop="itemListElement" itemscope  itemtype="http://schema.org/ListItem">
                <a href="https://www.puritys.me/docs-cate/Javascript" itemscope itemtype="http://schema.org/Thing" itemprop="item">
                    <em><span itemprop="name">Javascript</span></em>
                </a>
                <meta itemprop="position" content="2" />
            </li>
        
    
        
            <li class="active">
                <a href="article-30.html">
                    <em><span>Javascript Regular E...</span></em>
                </a>
            </li>
        
    
</ul>

        
                


<script type="application/ld+json">
    {"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.puritys.me\/docs-blog\/article-30-Javascript-Regular-Expressions-,-\u8868\u793a\u6cd5.html"},"headline":"Javascript Regular Expressions , \u8868\u793a\u6cd5","image":"","datePublished":"2011-09-03T00:49:25+08:00","dateModified":"2016-07-26T01:17:53+08:00","author":{"@type":"Person","name":"puritys"},"publisher":{"@type":"Organization","name":"www.puritys.me","logo":{"@type":"ImageObject","url":"https:\/\/www.puritys.me\/templates\/static\/images\/favicon_puritys.ico"}},"description":"\u4f55\u8b02 Regular expression : RegExp\rRegular Expressions \u4e2d\u6587\u53c8\u53eb\u505a\u8868\u793a\u6cd5\uff0c\u82f1\u6587\u7c21\u5beb\u70ba RegExp\uff0c\u4e3b\u8981\u529f\u80fd\u662f\u7528\u4f86\u641c\u5c0b\u5b57\u4e32\uff0c\u5206\u6790\u5b57\u4e32\uff0c\u53d6\u4ee3\u5b57\u4e32\uff0c\u6bd4\u5c0d\u5b57\u4e32\uff0c"}
</script>


<div class="entry">
   <div class="entry-header">
        
        <div class="date">
            <div class="year">2011</div>
            <div class="month">Sep</div>
            <div class="day">03</div>
        </div>

        
        <div class="title">
            <h1><a href="article-30.html"><span>Javascript Regular Expressions , 表示法</span></a></h1>
            <div class="sub">
                <div class="caption">Tags:</div>
                <ul class="labels">
                    
                    <li class="label">
                        <a class="label-item" target="_blank"
                             href="https://www.puritys.me/docs-cate?tag=javascript">javascript</a>
                    </li>
                    
                    <li class="label">
                        <a class="label-item" target="_blank"
                             href="https://www.puritys.me/docs-cate?tag=regular&#32;expression">regular expression</a>
                    </li>
                    
                </ul>
            </div>
            
            <div class="lang-wrap">
            
                <a href="../zh_cn/docs-blog/article-30-Javascript-Regular-Expressions-,-表示法.html" rel="alternate" hreflang="zh-CN">簡中版</a>
            
            </div>
            
        </div>
    </div>

    
    <div class="entry-body">
        <div class="ezHTML-content"><h2>何謂 Regular expression : RegExp</h2><p>Regular Expressions 中文又叫做<b>表示法</b>，英文簡寫為 RegExp，主要功能是用來搜尋字串，分析字串，取代字串，比對字串，透過 Regular Expression，你可以用很簡單的 <b>Pattern</b>，來分析一篇文章。</p><p>在大部分的程式語言中，如 perl , php, shell script，都有相關 Regular Expression 的功能，學會 Regular Expression ，絕對是一個工程師必備利器，以下就開始介紹Regular Expression。</p><h2>JS Regular expressions 簡易用法</h2><p>先介紹幾個簡單的 Expression 用法</p><div class="notice" label="!">如果已經有基礎的同學，就直接往下看 Advance 吧。</div><p>RegExp 在 Javascript 中有兩種方式可以定義，用來比對的描述句子我們稱之為 pattern，使用不同的 pattern 來完成字串比對，而緊接在 pattern 後面的字母，我們稱做 modifiers 修飾符號，一個完整的 Regular Expression Pattern 會像這樣「/pattern/modifiers」。</p><div class="codeBlock my_js"><span class="title"> 定義 Regular Expression</span><pre class="prettyprint lang-my_js linenums" ><ol class="linenums"><li class="L0"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/test/</span><span class="pun">;</span></li><li class="L1"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RegExp</span><span class="pun">(</span><span class="str">&#39;test&#39;</span><span class="pun">);</span></li></ol></pre></div>   <br />  <br /><p>我們可以使用 match 這個 Method 來實作簡單的字串比較，先來試一個搜尋大小寫字母吧。</p><div class="codeBlock my_js"><span class="title">Example</span><pre class="prettyprint lang-my_js linenums" ><ol class="linenums"><li class="L0"><span class="kwd">var</span><span class="pln"> text</span><span class="pun">=</span><span class="str">"ABCDefgIJK"</span><span class="pun">;</span></li><li class="L1"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/([A-Z]+)([a-z]+)/</span><span class="pln"> </span><span class="pun">;</span></li><li class="L2"><span class="pln">text</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span></li><li class="L3"><span class="pln">alert</span><span class="pun">(</span><span class="typ">RegExp</span><span class="pun">.</span><span class="pln">$1 </span><span class="pun">+</span><span class="pln"> </span><span class="str">"  "</span><span class="pun">+</span><span class="pln"> </span><span class="typ">RegExp</span><span class="pun">.</span><span class="pln">$2</span><span class="pun">);</span></li><li class="L4"><span class="com">// output ABCD efg</span></li></ol></pre></div><p>上面是一個很簡單的範例，我定義了一個字串 "ABCDefgHIJ" ，然後再定義分析的 Pattern 為 "<b>([A-Z]+)([a-z]+)</b>"，"[A-Z]"  是指比對大寫字母,  "[a-z]" 則是指比對小寫字母，第一個括號()，會把比對成功的字串存到 RegExp.$1，而第二個括號會把比對成功的字串存到 RegExp.$2 。</p><p>另外 match 這個 Method 也會將比對成功的字串以 Array 的格式回傳，所以我們也可以定義一個變數去接收 match 回傳的 array ，例如 var result=text.match(/pattern/);</p><h3>RegExp 相關 Method</h3><table class="table"><tr><th>Method</th><th>說明</th><th>範例</th></tr><tr><td>search</td><td>搜尋到 Regular Expressions 符合的字串，並回傳搜尋到的字串位置</td><td>"abc".search(/a/)</td></tr><tr><td>match</td><td>將比對成立的字串存到 Regexp ，並回傳 Array</td><td>"abc".match(/b/)</td></tr><tr><td>split</td><td>將字串切割成 Array</td><td>"a,b,c".split(/,/)</td></tr><tr><td>replace</td><td>取代字串內容</td><td>"aabc".replace(/a+/, b)</td></tr></table><p>以上四個 Javascript 字串的 Method 都可以使用 <b>RegExp </b>語法。</p><div class="codeBlock my_js"><span class="title">Example</span><pre class="prettyprint lang-my_js linenums" ><ol class="linenums"><li class="L0"><span class="com">//定義一個字串</span></li><li class="L1"><span class="kwd">var</span><span class="pln"> text</span><span class="pun">=</span><span class="str">"A apple a day keeps the doctor away"</span><span class="pun">;</span></li><li class="L2"><span class="com">//定義一個Regular Expression 比對方式</span></li><li class="L3"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/(apple)/</span></li><li class="L4"><span class="com">//搜尋字串位置</span></li><li class="L5"><span class="kwd">var</span><span class="pln"> position</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">search</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span></li><li class="L6"><span class="pln">alert</span><span class="pun">(</span><span class="str">"position:"</span><span class="pun">+</span><span class="pln">position </span><span class="pun">+</span><span class="pln"> </span><span class="str">" result="</span><span class="pun">+</span><span class="pln">text</span><span class="pun">.</span><span class="pln">substr</span><span class="pun">(</span><span class="pln">position</span><span class="pun">,</span><span class="lit">5</span><span class="pun">));</span></li><li class="L7"><span class="com">//Output: position:2 result=apple</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="com">//搜尋字串內容</span></li><li class="L0"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/(apple) a (day)/</span></li><li class="L1"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span></li><li class="L2"><span class="pln">alert</span><span class="pun">(</span><span class="str">"k[1]="</span><span class="pun">+</span><span class="pln">k</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]+</span><span class="str">"  k[2]="</span><span class="pun">+</span><span class="pln">k</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]);</span></li><li class="L3"><span class="com">//Output: k[1]=apple  k[2]=day</span></li><li class="L4"><span class="pln">&nbsp;</span></li><li class="L5"><span class="pln">&nbsp;</span></li><li class="L6"><span class="com">//k[0]是指比對成立的全部字串</span></li><li class="L7"><span class="com">//以apple來分割字串</span></li><li class="L8"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/apple/</span></li><li class="L9"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span></li><li class="L0"><span class="pln">alert</span><span class="pun">(</span><span class="str">"k[0]="</span><span class="pun">+</span><span class="pln">k</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]+</span><span class="str">"  k[1]="</span><span class="pun">+</span><span class="pln">k</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]);</span></li><li class="L1"><span class="com">//Output: k[0]=A   k[1]= a day keeps the doctor away</span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="pln">&nbsp;</span></li><li class="L4"><span class="com">//將apple 以banana取代var pattern=/apple/</span></li><li class="L5"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">,</span><span class="str">&#39;banana&#39;</span><span class="pun">);</span></li><li class="L6"><span class="pln">alert</span><span class="pun">(</span><span class="pln">k</span><span class="pun">);</span></li><li class="L7"><span class="com">//Output: A banana a day keeps the doctor away</span></li></ol></pre></div><h2>RegExp Pattern</h2><table class="table"><tr><th>語法</th><th>說明</th></tr><tr><td>[]</td><td>如果文字有存在 [xxx] 裡面的任一個字母，就算有符合這個規則，如 <span style="color:#a00;font-weight:bold;">[t]</span>:  test 這個字中就有 t 這個字母，所以符合規則。</td></tr><tr><td><div style="white-space:nowrap;">[a-z]</div></td><td>表示有出現1個小寫字母就算是符合 ， <div style="white-space:nowrap;"> "43ar3" ,"b", "c", "f2323"</div>     這些都符合規則，而 "323" , "$232", "-3" ，  這些不符合規則</td></tr><tr><td><div style="white-space:nowrap;">[0-9] </div></td><td>文字只要出現 1 個數字就算是符合</td></tr><tr><td><span>*</span></td><td>表示出現 0 次 或 多 次就算符合，如表示法 :「<span style="color:#a00;font-weight:bold;">a*</span>」，"aaa21" 前面三個字母符合規則  ， "222abba"    只有第一個 a 符合規則</td></tr><tr><td>+</td><td>表示出現 1 次 或 多 次就算符合，如表示法:「<span style="color:#a00;font-weight:bold;">a+</span>」 ， "bcdfg" 沒有出現a這個字母，所以不符合規則，"xxaaaxx"  ，中間三個a符合規則</td></tr></table><div class="codeBlock my_js"><span class="title">Example</span><pre class="prettyprint lang-my_js linenums" ><ol class="linenums"><li class="L0"><span class="kwd">var</span><span class="pln"> text</span><span class="pun">=</span><span class="str">"A apple a day keeps the doctor away"</span><span class="pun">;</span></li><li class="L1"><span class="com">// keeps 這個單字連續出現兩個e，所以表示法可以寫成 k[e]*ps 或 ke{2}ps 或 ke+ps</span></li><li class="L2"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/(k[e]*ps)/</span></li><li class="L3"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span></li><li class="L4"><span class="pln">alert</span><span class="pun">(</span><span class="pln">k</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]);</span></li><li class="L5"><span class="com">//Output: keeps</span></li></ol></pre></div><ul class="list">  <li>? :表示出現 0 或 1 次，也就是說有出現就算符合，沒出現也算符合</li></ul><div class="codeBlock my_js"><span class="title">Example</span><pre class="prettyprint lang-my_js linenums" ><ol class="linenums"><li class="L0"><span class="kwd">var</span><span class="pln"> text</span><span class="pun">=</span><span class="str">"I have apple"</span><span class="pun">;</span></li><li class="L1"><span class="com">//比對不管 apple 前面有沒有出現數字都要成功，這個範例並沒有出現數字，不過是會成功的。</span></li><li class="L2"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/([1-9]?apple)/</span></li><li class="L3"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span><span class="pln">alert</span><span class="pun">(</span><span class="pln">k</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]);</span></li><li class="L4"><span class="com">//Output: applevar text="I have 2 apple";</span></li><li class="L5"><span class="com">//比對不管 apple 前面有沒有出現數字都要成功，這個例子是有出現數字的，當然也是會比對成功。</span></li><li class="L6"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/([1-9]? apple)/</span></li><li class="L7"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span></li><li class="L8"><span class="pln">alert</span><span class="pun">(</span><span class="pln">k</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]);</span></li><li class="L9"><span class="com">//Output: 2 apple</span></li></ol></pre></div><ul class="list">  <li>^ : 代表比對的開始，如 ^@([a-z]*) ，是指搜尋以@為開頭的字母</li>  <li>[^] : 如果^是在[]裡面的話，代表否定的意思。如[^a-z]，代表比對<span class="rm">非a-z</span>的字母</li></ul><div class="codeBlock my_js"><span class="title">Example</span><pre class="prettyprint lang-my_js linenums" ><ol class="linenums"><li class="L0"><span class="com">//要以@開頭</span></li><li class="L1"><span class="kwd">var</span><span class="pln"> text</span><span class="pun">=</span><span class="str">"@apple baanan"</span><span class="pun">;</span></li><li class="L2"><span class="kwd">var</span><span class="pln"> text2</span><span class="pun">=</span><span class="str">"banan apple"</span><span class="pun">;</span></li><li class="L3"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/^@([a-z]*)/</span></li><li class="L4"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span></li><li class="L5"><span class="pln">alert</span><span class="pun">(</span><span class="pln">k</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]);</span></li><li class="L6"><span class="com">//Output: apple</span></li><li class="L7"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text2</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span></li><li class="L8"><span class="kwd">if</span><span class="pun">(</span><span class="pln">k </span><span class="pun">&amp;&amp;</span><span class="pln"> k</span><span class="pun">[</span><span class="lit">1</span><span class="pun">])</span><span class="pln">  alert</span><span class="pun">(</span><span class="pln">k</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]);</span></li><li class="L9"><span class="com">//比對失敗:k is undefined</span></li></ol></pre></div>  <br /><ul class="list">  <li>$ : 代表比對的結尾，如 ([a-z]*)$ ，是指搜尋文章的最後一個單字</li>  <li>&#92;d : 代表任何一個數字，同[0-9]</li>  <li>&#92;s : 代表一個空白</li>  <li>&#92;S : 代表任何一個非空白的字串</li>  <li>&#92;w : 代表任何一個ASCII字串，同[a-zA-Z0-9_]</li>  <li>&#92;W : 代表任何一個非ASCII字串，同[^a-zA-Z0-9_]</li>  <li>&#92;D : 代表任何一個非數字字串，同[^0-9]</li>  <li>{2,4} : 比對2 ~ 4 次，如 A{2.4}，是指 A這個字母出現2~4次。</li>  <li>{2, } : 比對2 ~ 無限次，如 A{2. }，是指 A這個字母要出現2~ 無限次。</li>  <li>&#92;b : 比對一個單字的結尾。也就是說 在單字的結尾要出現一個&#92;W的字母。</li>  <li>&#92;B : 比對一個非單字的結尾</li></ul><div class="codeBlock my_js"><span class="title">Example</span><pre class="prettyprint lang-my_js linenums" ><ol class="linenums"><li class="L0"><span class="com">//使用 &#92;b 比對apple這個單字</span></li><li class="L1"><span class="kwd">var</span><span class="pln"> text</span><span class="pun">=</span><span class="str">"apple"</span><span class="pun">;</span></li><li class="L2"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/&#92;bapple&#92;b/</span></li><li class="L3"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span><span class="pln">alert</span><span class="pun">(</span><span class="pln">k</span><span class="pun">);</span></li><li class="L4"><span class="com">//bapple!=apple 比對失敗</span></li><li class="L5"><span class="kwd">var</span><span class="pln"> text2</span><span class="pun">=</span><span class="str">"bapple"</span><span class="pun">;</span></li><li class="L6"><span class="kwd">var</span><span class="pln"> k2</span><span class="pun">=</span><span class="pln">text2</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span></li><li class="L7"><span class="pln">alert</span><span class="pun">(</span><span class="pln">k2</span><span class="pun">);</span><span class="pln">  </span></li><li class="L8"><span class="com">//使用 &#92;B apple前後要出現＼w才算符合</span></li><li class="L9"><span class="com">//比對失敗 apple前後沒有＼w字元</span></li><li class="L0"><span class="kwd">var</span><span class="pln"> text</span><span class="pun">=</span><span class="str">"apple"</span><span class="pun">;</span></li><li class="L1"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/&#92;Bapple&#92;B/</span></li><li class="L2"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span><span class="pln">alert</span><span class="pun">(</span><span class="pln">k</span><span class="pun">);</span></li><li class="L3"><span class="com">//比對成功var text2="bapple_";</span></li><li class="L4"><span class="kwd">var</span><span class="pln"> k2</span><span class="pun">=</span><span class="pln">text2</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span></li><li class="L5"><span class="pln">alert</span><span class="pun">(</span><span class="pln">k2</span><span class="pun">);</span></li></ol></pre></div><h2>Ignore case 忽略大小寫</h2><p>如果你要比對的資料，不想因為英文字母大小寫的不同，而比對失敗的話，就要在表示法中加上 Ignore Case ，縮寫代碼是 「i」，例如 /[a-z]/i 、 /[A-Z]/i ，這兩個表示法的結果是相同的。</p><h2>Global search 全文比對</h2><p>在搜尋字串時，可以一次搜尋一筆，也可以一次搜尋多筆，這時就可以利用 global 的方式，進行全文搜尋，這樣不管文章內有多少文字，只要符合表示法的規則，就會被全部抓出來，語法縮寫代碼是「g」，例如 /design/g 。</p><div class="codeBlock js_my"><span class="title">Example</span><pre class="prettyprint lang-js_my linenums" ><ol class="linenums"><li class="L0"><span class="kwd">var</span><span class="pln"> text</span><span class="pun">=</span><span class="str">"i like web design , you like web design , he likes web design"</span><span class="pun">;</span></li><li class="L1"><span class="kwd">var</span><span class="pln"> regexp</span><span class="pun">=</span><span class="str">/web design/</span><span class="pln">g</span><span class="pun">;</span></li><li class="L2"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">regexp</span><span class="pun">);</span></li><li class="L3"><span class="pln">alert</span><span class="pun">(</span><span class="pln">k</span><span class="pun">);</span><span class="pln"> </span><span class="com">// array(web design,web design,web design)</span></li><li class="L4"><span class="com">//總共抓到三次的 web design</span></li><li class="L5"><span class="pln">&nbsp;</span></li><li class="L6"><span class="kwd">var</span><span class="pln"> regexp</span><span class="pun">=</span><span class="str">/web design/</span><span class="pun">;</span></li><li class="L7"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">regexp</span><span class="pun">);</span></li><li class="L8"><span class="pln">alert</span><span class="pun">(</span><span class="pln">k</span><span class="pun">);</span><span class="pln"> </span><span class="com">//array(web design)</span></li><li class="L9"><span class="com">//只抓到一次</span></li></ol></pre></div><h2>多行比對</h2><p>RegExp 也支援一次比對多行文字，你只要在 RegExp modifiers 中加上一個「m」，例如當你想要對一個文字檔案中，每一行的結尾加上一個分號。</p><div class="codeBlock js_my"><span class="title">Example</span><pre class="prettyprint lang-js_my linenums" ><ol class="linenums"><li class="L0"><span class="kwd">var</span><span class="pln"> text </span><span class="pun">=</span><span class="pln"> </span><span class="str">"a"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"&#92;n"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"b"</span><span class="pun">;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/([a-z])$/</span><span class="pln">gm</span><span class="pun">;</span></li><li class="L3"><span class="pln">text </span><span class="pun">=</span><span class="pln"> text</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">,</span><span class="pln"> </span><span class="str">"$1;"</span><span class="pun">);</span></li><li class="L4"><span class="com">// text =</span></li><li class="L5"><span class="com">//  a;</span></li><li class="L6"><span class="com">//  b;</span></li></ol></pre></div><h2>簡單的範例</h2><p>副檔名的判斷 Regular Expression Pattern : 「&#92;.[^&#92;.]{3,}$」</p><ul class="list">  <li>{3, }  這是指前面那個東西要出現  3 次以上</li>  <li>如果我寫  a{3, } 就是說 a 要出現三次以上</li>  <li>如果我寫  b{3, } 就是說 b 要出現三次以上</li>  <li>[^&#92;.]  這個是說  出現不是 點(.) 的字</li>  <li>[^&#92;.]{3, }  合起來就是， 出現不是點(.) 的字，三次以上</li>  <li>&#92;.[^&#92;.]{3, }  先出現一個  「. 」  ， 然後再出現三個不是點的字</li>  <li>a$ 代表最後一個文字「a」 之後就結束，不能再接任何文字。</li>  <li>&#92;.[^&#92;.]{3,}$ 一個點，之後接三個不是點的字以上，然後後面不能再接任何文字。</li></ul><h2>JS RegExp 進階用法 ( Advance)</h2><p>在小括號 () 裡面中，如果你使用「?」這個符號開頭，那麼 <i>? </i> 是有特別含義的，Javascript Match 這個 Method 不會把符合 Regular Expression 的字串取出來。</p><ul class="list">  <li>(?=pattern) : 比對字串，成功後，不會將 pattern 的字串取出來。</li></ul><div class="codeBlock my_js"><span class="title">Example</span><pre class="prettyprint lang-my_js linenums" ><ol class="linenums"><li class="L0"><span class="com">//將 function 的名稱抓出來，比對存在括號，但是不要抓到特殊符號</span></li><li class="L1"><span class="kwd">var</span><span class="pln"> text</span><span class="pun">=</span><span class="str">"apple1-&gt;test(); apple2::test();"</span><span class="pun">;</span></li><li class="L2"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/apple[0-9](?=&#92;:)/</span></li><li class="L3"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span></li><li class="L4"><span class="pln">alert</span><span class="pun">(</span><span class="pln">k</span><span class="pun">);</span></li><li class="L5"><span class="com">//Output: apple1</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/apple[0-9](?=&#92;-)/</span></li><li class="L8"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span></li><li class="L9"><span class="pln">alert</span><span class="pun">(</span><span class="pln">k</span><span class="pun">);</span></li><li class="L0"><span class="com">//Output: apple2</span></li></ol></pre></div><ul class="list">  <li>(?!pattern) : 比對字串，要求不能出現 pattern，若比對符合後，不會將 pattern 的字串擷取出來。</li></ul><div class="codeBlock my_js"><span class="title">Example</span><pre class="prettyprint lang-my_js linenums" ><ol class="linenums"><li class="L0"><span class="kwd">var</span><span class="pln"> text</span><span class="pun">=</span><span class="str">"apple1-&gt;test(); apple2::test();"</span><span class="pun">;</span></li><li class="L1"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/[^&#92;s]+(?!&#92;:)/</span></li><li class="L2"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span></li><li class="L3"><span class="pln">alert</span><span class="pun">(</span><span class="pln">k</span><span class="pun">);</span></li><li class="L4"><span class="com">//Output: apple1-&gt;test();</span></li></ol></pre></div><h2>同時比對兩個資料， RegExp的「or」 。</h2><p>(?:pattern1|pattern2) : 同時比對 pattern1 與 pattern2，兩個 pattern 只要有一個符合，那麼就算是比對成功，比對到的 pattern 字串，在 Match 這個 Method  中是會被擷取出來的</p><p>另外有一個比較簡單的寫法 (pattern1|pattern2)</p><div class="codeBlock my_js"><span class="title">Example</span><pre class="prettyprint lang-my_js linenums" ><ol class="linenums"><li class="L0"><span class="com">//兩種function宣告方式，都會比對成功</span></li><li class="L1"><span class="kwd">var</span><span class="pln"> text</span><span class="pun">=</span><span class="str">"apple1-&gt;test(); </span></li><li class="L2"><span class="str">apple2::test();"</span><span class="pun">;</span></li><li class="L3"><span class="kwd">var</span><span class="pln"> pattern</span><span class="pun">=</span><span class="str">/[a-z0-9]+(?:-&gt;|&#92;:&#92;:)/</span><span class="pln">g</span></li><li class="L4"><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">text</span><span class="pun">.</span><span class="pln">match</span><span class="pun">(</span><span class="pln">pattern</span><span class="pun">);</span></li><li class="L5"><span class="pln">alert</span><span class="pun">(</span><span class="pln">k</span><span class="pun">);</span></li><li class="L6"><span class="com">//Output: apple1-&gt;,apple2::</span></li></ol></pre></div><h2>Parse HTML table</h2><p>一個 HTML 中通常會有多個 table ，而每個 table 之間又存在各種文字，這時候就要用到 non-greedy 的寫法，就是在 * (星號)後面加一個  ? ，另外用 [&#92;s&#92;S] 來處理多行文字。</p><div class="codeBlock html"><span class="title">Example</span><pre class="prettyprint lang-html linenums" ><ol class="linenums"><li class="L0"><span class="pln">var html = ` </span></li><li class="L1"><span class="tag">&lt;table&gt;</span></li><li class="L2"><span class="pln">    </span><span class="tag">&lt;td&gt;</span><span class="pln">aaa</span><span class="tag">&lt;/td&gt;</span></li><li class="L3"><span class="tag">&lt;/table&gt;</span></li><li class="L4"><span class="tag">&lt;table&gt;</span></li><li class="L5"><span class="pln">    </span><span class="tag">&lt;td&gt;</span><span class="pln">bbb</span><span class="tag">&lt;/td&gt;</span></li><li class="L6"><span class="tag">&lt;/table&gt;</span><span class="pln">                                                                                                </span></li><li class="L7"><span class="pln">&nbsp;</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="pln">`;</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="pln">var reg = /&lt;table[.&#92;n&#92;r&#92;s&#92;S]*?&lt;&#92;/table&gt;/g; </span></li><li class="L2"><span class="pln">var r = html.match(reg);</span></li><li class="L3"><span class="pln">console.log(r);</span></li></ol></pre></div><ul class="list">  <li><a href="http://regexr.com/"  target="_blank">http://regexr.com/</a> : 這是一個 Regular expression 好用的工具。</li></ul></div>
    </div>
    <div class="entry-footer">
        <p class="article-modify-author">This post was last modified by
            <span>puritys</span>
            <time datetime="2016-07-26T01:17:53+08:00" class="article-modify-time">2016/07/26</time>
        </p>

        
    <ul class="share-btn-wrap">
        <li><a href="https://www.facebook.com/sharer/sharer.php?u=https://www.puritys.me/docs-blog/article-30" class="shareBtn" title="share" rel="nofollow"></a></li>
        <li>
            <iframe src="https://www.facebook.com/plugins/like.php?href=https://www.puritys.me/docs-blog/article-30" scrolling="no" frameborder="0"
                style="border:none; width:450px; height:80px"></iframe>
        </li>
    </ul>



        
    </div>
    
    
        <br />
        <ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-1449650742587459"
     data-ad-slot="2197220184"></ins>

<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-1449650742587459",
          enable_page_level_ads: true
     });
</script>
    

</div>

        
            
    </div>
    

            
    <div class="sidebar">
        
                

<div class="list-group">                                                                                                                            
    <h4 class="list-group-heading">javascript 相關</h4>
    <ul>
    
        <li><a href="article-294.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_294&quot;}'>Javascript 處理 Binary 資料 - ArrayBuffer </a></li>
    
        <li><a href="../docs-blog-amp/article-189.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_189&quot;}'>安裝與編譯 Javascript V8 Engine </a></li>
    
        <li><a href="article-160.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_160&quot;}'>Sync &amp; Async of JavaScript loading </a></li>
    
        <li><a href="article-130.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_130&quot;}'>安裝 v8 Javascript  engine in window </a></li>
    
        <li><a href="article-123.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_123&quot;}'>Javascript setTimeout  執行時間錯亂 </a></li>
    
        <li><a href="article-101.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_101&quot;}'>我討厭 YUI 3 .....第五天 Ajax IO </a></li>
    
        <li><a href="article-100.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_100&quot;}'>我討厭 YUI 3  .....第四天 Skin </a></li>
    
        <li><a href="article-84.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_84&quot;}'>我討厭 YUI 3 .....第三天 Node  Plugin </a></li>
    
        <li><a href="article-83.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_83&quot;}'>Google V8 Engine Add Javascript New Function </a></li>
    
        <li><a href="article-82.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_82&quot;}'>Google V8 Engine Script Run </a></li>
    
        <li><a href="article-81.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_81&quot;}'>我討厭 YUI 3 .....第二天 Event </a></li>
    
        <li><a href="article-79.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_79&quot;}'>Javascript 指標物件 </a></li>
    
        <li><a href="article-73.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_73&quot;}'>我討厭 YUI 3  .....第一天 Node </a></li>
    
        <li><a href="article-66.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_66&quot;}'>Javascript 變數型態剖析 </a></li>
    
        <li><a href="article-64.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_64&quot;}'>Json to Array 格式轉換 </a></li>
    
        <li><a href="article-55.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_55&quot;}'>安裝 Javascript V8 Engine </a></li>
    
        <li><a href="article-39.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_39&quot;}'>Javascript 換行字符 </a></li>
    
        <li><a href="article-14.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_14&quot;}'>JS 時間與日期運算 </a></li>
    
    </ul>
</div>

<div class="list-group">                                                                                                                            
    <h4 class="list-group-heading">regular expression 相關</h4>
    <ul>
    
        <li><a href="article-104.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_104&quot;}'>PHP Regular Expression </a></li>
    
    </ul>
</div>

<div class="list-group">                                                                                                                            
    <h4 class="list-group-heading">類別 Javascript</h4>
    <ul>
    
        <li><a href="article-347.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_347&quot;}'>JavaScript : 呼叫 Function 可以省略括號 </a></li>
    
        <li><a href="article-338.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_338&quot;}'>Node.js/JavaScript is a wonderful programming language. </a></li>
    
        <li><a href="article-294.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_294&quot;}'>Javascript 處理 Binary 資料 - ArrayBuffer </a></li>
    
        <li><a href="article-275.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_275&quot;}'>Javascript 移除空白 Performance 優化 </a></li>
    
        <li><a href="article-273.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_273&quot;}'>自定義 AngularJS service </a></li>
    
        <li><a href="article-270.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_270&quot;}'>AngularJS </a></li>
    
        <li><a href="article-247.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_247&quot;}'>Javascript ECMA 1 </a></li>
    
        <li><a href="article-242.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_242&quot;}'>Javascript Hoisting 與 Closure </a></li>
    
        <li><a href="article-237.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_237&quot;}'>什麼是程式語言定義的 Currying </a></li>
    
        <li><a href="article-202.html" data-ga='{&quot;action&quot;:&quot;list_click&quot;,&quot;label&quot;:&quot;id_202&quot;}'>Javascript 將字串轉成 binary 與 binary to string </a></li>
    
    </ul>
</div>


        
                


        
            
    </div>
    
        
</div>



    

            
<div class="bottom-footer">
    <ul class="nav">
        
        <li >
            <a href="https://www.puritys.me/news">網路新聞</a>
        </li>
        
        <li >
            <a href="https://www.puritys.me/life">生活旅遊</a>
        </li>
        
        <li >
            <a href="https://www.puritys.me/WEB_SECURITY">網路安全</a>
        </li>
        
        <li class="active">
            <a href="https://www.puritys.me/docs-cate">程式雜記</a>
        </li>
        

        <li>
            <a href="https://www.puritys.me/">puritys.me</a>
        </li>
        <li>
            <a href="http://www.lingihuang.com/">VIVIAN CRAP</a>
        </li>
        
    </ul>
    <p>Copyright &amp;copy; 2014 PURITYS.COM. All rights reserved.</p>
</div>


            
<script src="https://connect.facebook.net/en_US/all.js"></script>


        
</body>
    <script src="https://www.puritys.me/templates/static/js/files?sidebar.js&amp;ezHTML_main.js&amp;?v=20180416-2"></script>
</html>